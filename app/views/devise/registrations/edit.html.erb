<%- model_class = User -%>
<%= simple_form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :class => "form form-horizontal" }) do |f| %>
  <fieldset>
  	<legend><%= "#{ @user.email } " unless @user.email.nil?  %><%= t(".update")%></legend>
    <div class="input-group">
      <%= f.input :email, :required => true, :autofocus => true, :disabled => true %>

      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <p>t(waiting_confirmation) : <%= resource.unconfirmed_email %></p>
      <% end %>

      <%= f.input :password, :autocomplete => "off", :required => false %>
      <%= f.input :password_confirmation, :required => false %>
      <%= f.input :current_password, :required => true %>
    </div>
  </fieldset>
  <div class="form-actions">
    <%= f.button :submit, t(".update"), :class => "btn btn-success" %>
    <%= link_to t("back"), root_path, :class => "btn btn-inverse" %>
  </div>
<% end %>
<br/>
<p><%= t(".cancel.message") %> <%= link_to t(".cancel.action"), registration_path(resource_name), :data => { :confirm => t(".cancel.confirm") }, :method => :delete %>.</p>
